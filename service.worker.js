const version="v3",cacheName="app = v3",files=["./","./index.html","./index.bundle.js","./main.css","./patternbg.png"];async function putFilesToCache(e){const a=await caches.open(cacheName);await a.addAll(e)}async function removeOldCache(e){console.log("удаление");const a=await caches.keys();return Promise.all(a.filter((a=>!e.includes(a))).map((e=>caches.delete(e))))}self.addEventListener("install",(e=>{console.log("установлен"),e.waitUntil((async()=>{await putFilesToCache(files),await self.skipWaiting()})())})),self.addEventListener("activate",(e=>{console.log("активирован"),e.waitUntil((async()=>{await removeOldCache([cacheName]),await clients.claim()})())})),self.addEventListener("fetch",(e=>{e.respondWith((async()=>{const a=await caches.open(cacheName);return await a.match(e.request)||fetch(e.request)})())}));